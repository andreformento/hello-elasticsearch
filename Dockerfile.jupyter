FROM quay.io/jupyter/all-spark-notebook:ubuntu-24.04

USER root

# Copy requirements file
COPY notebooks/requirements.txt /tmp/requirements.txt

# Install packages as root, then switch back
RUN pip install --no-cache-dir -q -r /tmp/requirements.txt && \
    rm /tmp/requirements.txt

USER jovyan
